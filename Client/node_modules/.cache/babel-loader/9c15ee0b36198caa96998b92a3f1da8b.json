{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/nishant/TE_FIRSTSEM/SL-1/project/bloodbook/src/pages/Donation/DonationRegistration.js\";\nimport React, { Component } from \"react\";\nimport { Row, Label, Col, Button, Input, Form } from \"reactstrap\";\nimport http from '../common';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Select from 'react-select';\n\nclass DonationRegistration extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      adhar_no: '',\n      component_name: '',\n      quantity: '',\n      nurseid: '',\n      donors: [],\n      nurses: []\n    };\n  }\n\n  async componentDidMount() {\n    await http.get('donation/donor').then(Response => {\n      if (Response.status === 200) {\n        this.setState({\n          donors: Response.data\n        });\n      } else toast.error('Fetching failed.');\n    });\n    await http.get('donation/nurse').then(Response => {\n      if (Response.status === 200) {\n        this.setState({\n          nurses: Response.data\n        });\n      } else toast.error('Fetching failed.');\n    });\n  }\n\n  handleSubmit(e) {\n    if (this.state.d_date && this.state.nurseid && this.state.quantity && this.state.component_name && this.state.adhar_no) {\n      if (this.state.quantity < 201 && this.state.quantity > 149) {\n        e.preventDefault();\n        console.log(this.state);\n        const newDonation = {\n          'adhar_no': this.state.adhar_no,\n          'component_name': this.state.component_name,\n          'quantity': this.state.quantity,\n          'nurseid': this.state.nurseid,\n          'd_date': new Date()\n        };\n        http.post('donation', {\n          newDonation\n        }).then(response => {\n          if (response.status === 200) {\n            console.log(response);\n            toast.info('Donation Added.');\n            this.props.closeCallBack();\n          } else {\n            toast.error('Registration Unsuccessful.');\n          }\n        }).catch(error => {\n          toast.error('Operation Failed.');\n          console.log(error);\n        });\n      } else {\n        toast.error('Quantity should be between 150 to 200.');\n      }\n    } else {\n      toast.error('Fill all the deatils Properly');\n    }\n  }\n\n  render() {\n    let options = this.state.donors.map(function (city) {\n      return {\n        value: city.aadhar_no,\n        label: city.name\n      };\n    });\n    let optionss = this.state.nurses.map(function (city) {\n      return {\n        value: city.nurse_id,\n        label: city.name\n      };\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row row-content\",\n        children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          newestOnTop: false,\n          closeOnClick: true,\n          rtl: false,\n          pauseOnFocusLoss: true,\n          draggable: true,\n          pauseOnHover: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 offset-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Donation Registration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-md-9\",\n            children: /*#__PURE__*/_jsxDEV(Form, {\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"Adhar_no\",\n                  md: 2,\n                  children: \"Aadhar no\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  md: 10,\n                  children: /*#__PURE__*/_jsxDEV(Select, {\n                    options: options,\n                    onChange: e => {\n                      this.setState({\n                        adhar_no: e.value\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"component\",\n                  md: 2,\n                  children: \"Component\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  md: 10,\n                  children: /*#__PURE__*/_jsxDEV(Input, {\n                    type: \"select\",\n                    name: \"component\",\n                    id: \"component\",\n                    onChange: event => {\n                      this.setState({\n                        component_name: event.target.value\n                      });\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Select\",\n                      children: \"Choose Component Type\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 116,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Fresh Frozen Plasma\",\n                      children: \"Fresh Frozen Plasma\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Packed Red Blood Cells\",\n                      children: \"Packed Red Blood Cells\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Plasma\",\n                      children: \"Plasma\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 119,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Platelet Concentrate\",\n                      children: \"Platelet Concentrate\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 120,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"Whole Blood\",\n                      children: \"Whole Blood\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 121,\n                      columnNumber: 37\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"quantity\",\n                  md: 2,\n                  children: \"Quantity\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  md: 10,\n                  children: /*#__PURE__*/_jsxDEV(Input, {\n                    type: \"number\",\n                    id: \"quantity\",\n                    name: \"quantity\",\n                    placeholder: \"Enter units\",\n                    className: \"form-control\",\n                    onChange: e => {\n                      this.setState({\n                        quantity: e.target.value\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  htmlFor: \"nurseid\",\n                  md: 2,\n                  children: \"nurseid\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  md: 10,\n                  children: /*#__PURE__*/_jsxDEV(Select, {\n                    options: optionss,\n                    onChange: e => {\n                      this.setState({\n                        nurseid: e.value\n                      });\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  md: {\n                    size: 10,\n                    offset: 2\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    color: \"primary\",\n                    onClick: values => this.handleSubmit(values),\n                    children: \"Add Donation\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default DonationRegistration;","map":{"version":3,"sources":["/home/nishant/TE_FIRSTSEM/SL-1/project/bloodbook/src/pages/Donation/DonationRegistration.js"],"names":["React","Component","Row","Label","Col","Button","Input","Form","http","ToastContainer","toast","Select","DonationRegistration","constructor","props","state","adhar_no","component_name","quantity","nurseid","donors","nurses","componentDidMount","get","then","Response","status","setState","data","error","handleSubmit","e","d_date","preventDefault","console","log","newDonation","Date","post","response","info","closeCallBack","catch","render","options","map","city","value","aadhar_no","label","name","optionss","nurse_id","event","target","size","offset","values"],"mappings":"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","sourcesContent":["import React,{ Component } from \"react\";\nimport { Row,Label,Col,Button,Input ,Form} from \"reactstrap\";\nimport http from '../common'\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Select from 'react-select';\n\nclass DonationRegistration extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            adhar_no       : '',\n            component_name  : '',\n            quantity    : '',\n            nurseid      : '',\n            donors : [],\n            nurses : []\n        }\n    }\n    async componentDidMount(){\n        await http.get('donation/donor')\n        .then((Response)=>{\n            if(Response.status===200){\n                this.setState({donors:Response.data})\n            }\n            else    \n                toast.error('Fetching failed.')\n        })\n        await http.get('donation/nurse')\n        .then((Response)=>{\n            if(Response.status===200){\n                this.setState({nurses:Response.data})\n            }\n            else    \n                toast.error('Fetching failed.')\n        })\n    }\n    handleSubmit(e){\n        if(this.state.d_date && this.state.nurseid && this.state.quantity && this.state.component_name \n            && this.state.adhar_no){ \n            if(this.state.quantity < 201 && this.state.quantity > 149){    \n                e.preventDefault()\n                console.log(this.state)\n                const newDonation={\n                'adhar_no': this.state.adhar_no,\n                'component_name': this.state.component_name,\n                'quantity': this.state.quantity,\n                'nurseid': this.state.nurseid,\n                'd_date': new Date()\n                }\n                http.post('donation',{newDonation})\n                .then(response=>{\n                    if(response.status===200){\n                    console.log(response)\n                    toast.info('Donation Added.')\n                    this.props.closeCallBack();\n                    }else{\n              toast.error('Registration Unsuccessful.')\n                    }\n                })\n                .catch(error=>{\n                    toast.error('Operation Failed.')\n                    console.log(error)\n                })\n            }else{\n                toast.error('Quantity should be between 150 to 200.')\n            }\n        }else{\n            toast.error('Fill all the deatils Properly')\n          }\n    }\n    render(){\n        let options = this.state.donors.map(function (city) {\n            return { value: city.aadhar_no, label: city.name };\n          })\n        let optionss = this.state.nurses.map(function (city) {\n            return { value: city.nurse_id, label: city.name };\n          })\n        return(\n            <div className=\"container\">\n            <div className=\"row row-content\">\n                <ToastContainer position=\"top-right\"\n                    autoClose={2000}\n                    hideProgressBar={false}\n                    newestOnTop={false}\n                    closeOnClick\n                    rtl={false}\n                    pauseOnFocusLoss\n                    draggable\n                    pauseOnHover />\n                <div className=\"col-12 offset-1\">\n                    <h3>Donation Registration</h3>\n                    <hr/>\n                    <div className=\"col-12 col-md-9\">\n                        <Form>\n                            {/* <div style={this.getStyles()}> */}\n                                <Row className=\"form-group\">\n                                    <Label htmlFor=\"Adhar_no\" md={2}>Aadhar no</Label>\n                                    <Col md={10}> \n                                    <Select options={options}\n                                    onChange={\n                                        (e) => {\n                                            this.setState({ adhar_no: e.value })\n                                        }\n                                    }/>    \n                                </Col> \n                                </Row>\n                                <Row className=\"form-group\">\n                            <Label htmlFor=\"component\" md={2}>Component</Label>\n                                <Col md={10}>\n                                <Input type=\"select\" name=\"component\" id=\"component\" onChange={\n                                    (event) => {\n                                        this.setState({ component_name: event.target.value });\n                                    }\n                                    }>\n                                    <option value=\"Select\">Choose Component Type</option>\n                                    <option value=\"Fresh Frozen Plasma\">Fresh Frozen Plasma</option>\n                                    <option value=\"Packed Red Blood Cells\">Packed Red Blood Cells</option>\n                                    <option value=\"Plasma\">Plasma</option>\n                                    <option value=\"Platelet Concentrate\">Platelet Concentrate</option>\n                                    <option value=\"Whole Blood\">Whole Blood</option>\n                                </Input>\n                                </Col>\n                            </Row>\n                               \n                                <Row className=\"form-group\">\n                                    <Label htmlFor=\"quantity\" md={2}>Quantity</Label>\n                                    <Col md={10}>\n                                        <Input type=\"number\" id=\"quantity\" name=\"quantity\"\n                                            placeholder=\"Enter units\"\n                                            className=\"form-control\"\n                                            onChange={\n                                                (e) => {\n                                                    this.setState({ quantity : e.target.value })\n                                                }\n                                            }\n                                        />\n                                    </Col>\n                                </Row>\n                                <Row className=\"form-group\">\n                                    <Label htmlFor=\"nurseid\" md={2}>nurseid</Label>\n                                    <Col md={10}> \n                                    <Select options={optionss}\n                                    onChange={\n                                        (e) => {\n                                            this.setState({ nurseid: e.value })\n                                        }\n                                    }/>    \n                                </Col> \n                                </Row>\n                               \n                            {/* </div> */}\n                            <Row className=\"form-group\">\n                                <Col md={{ size: 10, offset: 2 }}>\n                                    <Button color=\"primary\" onClick={(values) => this.handleSubmit(values)}>\n                                        Add Donation\n                                    </Button>\n                                </Col>\n                            </Row>\n                        </Form>\n                    </div>\n                </div>\n            </div>\n            </div>\n        )\n    }\n}\n\nexport default DonationRegistration;"]},"metadata":{},"sourceType":"module"}